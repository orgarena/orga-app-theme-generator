<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>ORGA App Theme Generator</title>

    <style>

        body {
            margin: 0;
            padding: 20px;
        }

        .generator-device.ios .generator-device_notch {
            display: block;
            left: 50%;
            position: absolute;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
            fill: #090a0d;
            top: -1px;
            width: 165px;
            z-index: 2;
        }

        .generator-device.ios figure:after {
            background-color: rgba(255,255,255,.5);
            border-radius: 2px;
            bottom: 6px;
            content: "";
            height: 4px;
            width: 35%;
            z-index: 1;
            display: block;
            left: 50%;
            position: absolute;
            -webkit-transform: translateX(-50%);
            transform: translateX(-50%);
        }

        figure {
            border-radius: 32px;
            -webkit-box-shadow: 0 0 0 14px #090a0d, 0 0 0 17px #9fa3a8, 0 0 34px 17px rgba(0,0,0,.2);
            box-shadow: 0 0 0 14px #090a0d, 0 0 0 17px #9fa3a8, 0 0 34px 17px rgba(0,0,0,.2);
            height: 720px;
            margin: 17px 0 0 17px !important;
            max-width: 360px;
            min-width: 360px;
            overflow: hidden;
            padding-bottom: calc(var(--device-aspect-ratio) * 100%);
            position: relative;
            width: calc((100vh - var(--header-height) - var(--device-padding) * 2) / var(--device-aspect-ratio));
            z-index: 1;
        }

        iframe {
            border: none;
            height: 100%;
            left: 0;
            position: absolute;
            top: 0;
            width: 100%;
            z-index: 1;
            /*border-radius: 30px;*/
        }

        td {
            padding: 0 10px 10px 0;
        }

        .sp-palette-row-selection {
            margin-top: 15px !important;
        }

        .css-text_code {
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
            display: block;
            width: 100%;
            max-width: 100%;
            min-width: 100%;
            height: auto;
            white-space: pre;
            background-color: #f5f6f9;
            border-radius: 8px;
            border: 0;
            outline: none;
            font-family: "Roboto Mono", Menlo, Consolas, Monaco, "Lucida Console", "Liberation Mono", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Courier New", monospace, serif;
            font-size: 12px;
            line-height: 18px;
            margin: 1.5em 0;
            padding: 2em 2em;
            -webkit-font-smoothing: initial;
            color: #333333;
            resize: both;
            overflow: auto;
        }

        .btn-label {
            position: relative;
            left: -12px;
            display: inline-block;
            padding: 6px 12px;
            background: rgba(0,0,0,0.15);
            border-radius: 3px 0 0 3px;
        }
        .btn-labeled {
            padding-top: 0 !important;
            padding-bottom: 0 !important;
        }

    </style>

    <link rel="stylesheet" type="text/css" href="spectrum/spectrum.css">
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="fontawesome/css/all.min.css">

  </head>
  <body>

    <div class="container">

        <div class="row">
            <div class="col-10">
                <h1>ORGA App Theme Generator</h1>
                <p>Mit den Farb-Auswahlfelder (rechte Seite) können Sie die einzelnen Elemente der ORGA App in einer Live Ansicht verändern. Ganz unten auf dieser Seite wird dabei automatisch der Theme CSS Code generiert, den Sie uns einfach per E-Mail zuschicken können.</p>
                <p>* Bitte klicken Sie in der Live Ansicht der App auch oben links auf das Menü Icon <i class="fa fa-bars"></i>, um die <strong>Farben im Hauptmenü</strong> zu sehen. Um das Menü wieder zu schließen, klicken Sie einfach auf einen der Menüpunkte.</p>
                <p>** Auf den anderen Tabs (Aktionen, Mitteilungen...) sehen Sie das <strong>Layout für einen allgemeinen Hinweis</strong>. Die Icon Farbe wird dort mit "Contrast 1" und die Text Farbe mit "Primary BG" bestimmt.</p>
                <p>*** Das Theme wird auch für den Desktop Client benutzt. Die Scrollbar (Scroll-Leiste) die dort verwendet wird, kann farblich angepasst werden (Secondary Shade2 BG). In der Live Ansicht der App ist das nicht zu sehen. Setzen Sie die Farbe im Zweifelsfall gleich mit der Primary BG Farbe.</p>
                <p>&nbsp;</p>
            </div>
        </div>

        <div class="row">

            <div class="col-5">

                <div class="generator-device ios">
                    <figure>
                        <svg class="generator-device_notch" viewBox="0 0 219 31"><path d="M0 1V0h219v1a5 5 0 0 0-5 5v3c0 12.15-9.85 22-22 22H27C14.85 31 5 21.15 5 9V6a5 5 0 0 0-5-5z" fill-rule="evenodd"></path></svg>
                        <iframe src="app.html" id="appFrame"></iframe>
                    </figure>
                </div>

            </div> <!-- col-5 -->

            <div class="col-7">

                <table style="margin-top: 35px;">
                    <tr>
                        <td>Background (allgeminer Hintergrund): </td>
                        <td><input id='backgroundPicker' /></td>
                    </tr>
                    <tr>
                        <td>Text (allgemeiner Text): </td>
                        <td><input id='textPicker' /></td>
                    </tr>
                    <tr>
                        <td>Primary BG (Hauptfarbe) **: </td>
                        <td><input id='primaryBgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Primary FG (Schrift auf Hauptfarbe): </td>
                        <td><input id='primaryFgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Primary Shade1 BG (Divider 1, Hauptmenü Icons)* : </td>
                        <td><input id='primaryShade1BgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Primary Shade1 FG (Divider 1 Schrift): </td>
                        <td><input id='primaryShade1FgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Primary Shade2 BG (Divider 2 und Hauptmenü Text) *: </td>
                        <td><input id='primaryShade2BgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Primary Shade2 FG (Divider 2 Schrift): </td>
                        <td><input id='primaryShade2FgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Secondary BG (Buttons) *: </td>
                        <td><input id='secondaryBgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Secondary FG (Buttons Schrift): </td>
                        <td><input id='secondaryFgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Secondary Shade1 BG (u.a. aktive Reiter): </td>
                        <td><input id='secondaryShade1BgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Secondary Shade1 FG (aktive Reiter Schrift): </td>
                        <td><input id='secondaryShade1FgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Secondary Shade2 BG (Scrollbar) ***: </td>
                        <td><input id='secondaryShade2BgPicker' /></td>
                    </tr>
                    <tr>
                        <td>Contrast 1 **: </td>
                        <td><input id='contrast1Picker' /></td>
                    </tr>
                    <tr>
                        <td>Contrast 2 (Tab Hintergrund): </td>
                        <td><input id='contrast2Picker' /></td>
                    </tr>
                    <tr>
                        <td>Contrast 3 (Reiter Hintergrund): </td>
                        <td><input id='contrast3Picker' /></td>
                    </tr>
                    <tr>
                        <td>Contrast 4 (Linien): </td>
                        <td><input id='contrast4Picker' /></td>
                    </tr>
                </table>

            </div> <!-- col-7 -->

        </div> <!-- row -->

        <div class="row">
            <div class="col-12"><p>&nbsp;</p></div>
        </div>

        <div class="row">

            <div class="col-10">

                <p>&nbsp;</p>

                <h2>Theme CSS Code</h2>

                <p>
                    Bitte schicken Sie den generierten CSS Code per E-Mail an <strong>info@orgarena.de</strong>.<br />
                    Als Betreff schreiben Sie bitte "Theming - [IHR VEREIN]".<br />
                    Sie können dafür auch den Button "E-Mail vorbereiten" benutzen. Es öffnet sich Ihr E-Mail Programm und eine neue Mail wird vorbereitet. Es wird noch nichts automatisch verschickt!<br />
                </p>

                <button id="btnCopy" class="btn btn-labeled btn-info" onclick="openMailClient('#cssText')">
                    <span class="btn-label"><i class="fa fa-envelope"></span></i>E-Mail vorbereiten
                </button>

                <button id="btnCopy" class="btn btn-labeled btn-info float-right" onclick="copyToClipboard('#cssText')">
                    <span class="btn-label"><i class="fa fa-clipboard"></span></i>CSS Code kopieren
                </button>

                <div id="cssText" class="css-text_code" contenteditable="false" spellcheck="false">--theme-background: <span class="backgroundPickerHex">#ffffff</span>;

--theme-text-head: <span class="textPickerHex">#2b4b56</span>;
--theme-text: <span class="textPickerHex">#2b4b56</span>;
--theme-text-label: <span class="textPickerHex">#2b4b56</span>;
--theme-text-value: <span class="textPickerHex">#2b4b56</span>;
--theme-text-sub: <span class="textPickerHex">#2b4b56</span>;
--theme-text-sub2: <span class="textPickerHex">#2b4b56</span>;

--theme-color-primary: <span class="primaryBgPickerHex">#2e626d</span>;
--header-color: <span class="primaryFgPickerHex">#ffffff</span>;

--theme-color-primary-shade1: <span class="primaryShade1BgPickerHex">#2b4b56</span>;
--divider-color: <span class="primaryShade1FgPickerHex">#ffffff</span>;

--theme-color-primary-shade2: <span class="primaryShade2BgPickerHex">#1d3540</span>;
--divider-color2: <span class="primaryShade2FgPickerHex">#ffffff</span>;

--theme-color-secondary: <span class="secondaryBgPickerHex">#1d8495</span>;
--divider-button-color: <span class="secondaryFgPickerHex">#ffffff</span>;

--theme-color-secondary-shade1: <span class="secondaryShade1BgPickerHex">#1d6d7e</span>;
--segment-button-color-active: <span class="secondaryShade1FgPickerHex">#ffffff</span>;
--button-color: <span class="secondaryShade1FgPickerHex">#ffffff</span>;
--checkbox-icon-color: <span class="secondaryShade1FgPickerHex">#ffffff</span>;
--tabbar-tab-icon-color-active: <span class="secondaryShade1FgPickerHex">#ffffff</span>;
--tabbar-tab-button-color-active: <span class="secondaryShade1FgPickerHex">#ffffff</span>;

--theme-color-secondary-shade2: <span class="secondaryShade2BgPickerHex">#1c5b6c</span>;

--theme-contrast1: <span class="contrast1PickerHex">#f8f8f9</span>;
--theme-contrast2: <span class="contrast2PickerHex">#f6f6f7</span>;
--theme-contrast3: <span class="contrast3PickerHex">#a6c7c6</span>;
--theme-contrast4: <span class="contrast4PickerHex">#caeae9</span>;</div>

            </div> <!-- col-8 -->

        </div> <!-- row -->

    </div> <!-- container -->


    <script type="text/javascript" src="jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="spectrum/spectrum.js"></script>
    <script type="text/javascript" src="spectrum/i18n/jquery.spectrum-de.js"></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>

    <script>
        colorPicker( '#backgroundPicker', '#ffffff', ['--theme-background'] );
        colorPicker( '#textPicker', '#2b4b56', ['--theme-text-head', '--theme-text', '--theme-text-label', '--theme-text-value', '--theme-text-sub', '--theme-text-sub2' ] );
        colorPicker( '#primaryBgPicker', '#2e626d', ['--theme-color-primary'] );
        colorPicker( '#primaryFgPicker', '#ffffff', ['--header-color'] );
        colorPicker( '#primaryShade1BgPicker', '#2b4b56', ['--theme-color-primary-shade1'] );
        colorPicker( '#primaryShade1FgPicker', '#ffffff', ['--divider-color'] );
        colorPicker( '#primaryShade2BgPicker', '#1d3540', ['--theme-color-primary-shade2'] );
        colorPicker( '#primaryShade2FgPicker', '#ffffff', ['--divider-color2'] );
        colorPicker( '#secondaryBgPicker', '#1d8495', ['--theme-color-secondary'] );
        colorPicker( '#secondaryFgPicker', '#ffffff', ['--divider-button-color'] );
        colorPicker( '#secondaryShade1BgPicker', '#1d6d7e', ['--theme-color-secondary-shade1'] );
        colorPicker( '#secondaryShade1FgPicker', '#ffffff', ['--segment-button-color-active', '--button-color', '--checkbox-icon-color', '--tabbar-tab-icon-color-active', '--tabbar-tab-button-color-active'] );
        colorPicker( '#secondaryShade2BgPicker', '#1c5b6c', ['--theme-color-secondary-shade2'] );
        colorPicker( '#contrast1Picker', '#f8f8f9', ['--theme-contrast1'] );
        colorPicker( '#contrast2Picker', '#f6f6f7', ['--theme-contrast2'] );
        colorPicker( '#contrast3Picker', '#a6c7c6', ['--theme-contrast3'] );
        colorPicker( '#contrast4Picker', '#caeae9', ['--theme-contrast4'] );

        var previousСolor;
        var isChange = false;

        function colorPicker(element, color, cssProperties) {
            
            $(element).spectrum({
                color: color,
                preferredFormat: "hex",
                showInput: true,
                showPalette: true,
                showSelectionPalette: true,
                maxSelectionSize: 22,
                palette: [
                    ['#ffffff', '#2e626d', '#2b4b56', '#1d3540', '#1d8495', '#1d6d7e', '#1c5b6c', '#f8f8f9', '#f6f6f7', , '#a6c7c6', '#caeae9']
                ],
                localStorageKey: "spectrum.user.palette",
                showInitial: true,
                move: function(tinycolor) {
                    var hex = tinycolor.toHexString();
                    var iframe = document.getElementById("appFrame");
                    var iframeContent = (iframe.contentWindow || iframe.contentDocument);
                    if (iframeContent.document)iframeContent = iframeContent.document;
                    cssProperties.forEach(cssProperty => iframeContent.body.style.setProperty(cssProperty, hex));
                    var elementClass = element.replace('#', '.');
                    $(elementClass+'Hex').text(hex);
                },
                show: function(tinycolor) {
                    isChange = false;
                    var hex = tinycolor.toHexString();
                    previousСolor = hex;
                },
                hide: function(tinycolor) {
                    if (!isChange && previousСolor) {
                        var hex = previousСolor
                        $(element).spectrum('set', hex);
                        var iframe = document.getElementById("appFrame");
                        var iframeContent = (iframe.contentWindow || iframe.contentDocument);
                        if (iframeContent.document)iframeContent = iframeContent.document;
                        cssProperties.forEach(cssProperty => iframeContent.body.style.setProperty(cssProperty, hex));
                        var elementClass = element.replace('#', '.');
                        $(elementClass+'Hex').text(hex);
                    }
                },
                change: function(tinycolor) {
                    isChange = true;
                    var hex = tinycolor.toHexString();
                    var iframe = document.getElementById("appFrame");
                    var iframeContent = (iframe.contentWindow || iframe.contentDocument);
                    if (iframeContent.document)iframeContent = iframeContent.document;
                    cssProperties.forEach(cssProperty => iframeContent.body.style.setProperty(cssProperty, hex));
                    var elementClass = element.replace('#', '.');
                    $(elementClass+'Hex').text(hex);
                },
            });
        }

        function openMailClient(element) {
            var mailTo = 'info@orgarena.de';
            var mailSubject = 'Theming - [IHR VEREIN]'
            var mailBody = $(element).text();
            window.location='mailto:' + mailTo + '?subject=' + mailSubject + '&body=' + encodeURIComponent(mailBody);
            return false;
        }

        function copyToClipboard(element) {
            var $temp = $('<textarea>');
            $('body').append($temp);
            $temp.val($(element).text()).select();
            document.execCommand("copy");
            $temp.remove();
            return false;
        }
        
    </script>

  </body>
</html>